# ==========================================
# TextLingo2 æµ‹è¯•ç¯å¢ƒé…ç½®ç¤ºä¾‹
# ==========================================
# ä½¿ç”¨æ–¹æ³•ï¼šå¤åˆ¶ä¸º .env.test å¹¶å¡«å…¥æµ‹è¯•ç¯å¢ƒçš„çœŸå®é…ç½®

# æµ‹è¯•ç¯å¢ƒæ ‡è¯†
# --------------------------------------------
APP_NAME="TextLingo2 API (Test)"
APP_VERSION="1.0.0"
DEBUG=true
ENVIRONMENT=test

# Supabase æµ‹è¯•é¡¹ç›®é…ç½®
# --------------------------------------------
# æ–¹æ¡ˆ1ï¼šSupabase æµ‹è¯•é¡¹ç›®
SUPABASE_URL=https://your-test-project-id.supabase.co
SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.your-test-anon-key
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.your-test-service-key

# æ–¹æ¡ˆ2ï¼šæœ¬åœ° Supabase (supabase start åè·å–)
# SUPABASE_URL=http://localhost:54321
# SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.local-anon-key
# SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.local-service-key

# JWT é…ç½® (å¯ä»¥ä½¿ç”¨ç®€å•å¯†é’¥ç”¨äºæµ‹è¯•)
# --------------------------------------------
JWT_SECRET_KEY=test-secret-key-for-development-only-32-chars
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30

# åº”ç”¨å®‰å…¨é…ç½®
# --------------------------------------------
SECRET_KEY=test-secret-key-for-development-only

# Redis é…ç½® (æµ‹è¯•ç¯å¢ƒ)
# ============================================
# æœ¬åœ° Redis (æµ‹è¯•æ¨è)
REDIS_URL=redis://localhost:6379/1
CELERY_BROKER_URL=redis://localhost:6379/1
CELERY_RESULT_BACKEND=redis://localhost:6379/1

# æˆ–ä½¿ç”¨ Docker Redis æµ‹è¯•ç«¯å£
# REDIS_URL=redis://localhost:6380/0
# CELERY_BROKER_URL=redis://localhost:6380/0
# CELERY_RESULT_BACKEND=redis://localhost:6380/0

# API é…ç½®
# --------------------------------------------
API_V1_PREFIX=/api/v1

# CORS é…ç½® (æµ‹è¯•ç¯å¢ƒ - æ›´å®½æ¾)
# --------------------------------------------
CORS_ORIGINS=["http://localhost:3000", "http://127.0.0.1:3000", "http://localhost:3001"]

# AI æœåŠ¡é…ç½® (å¯é€‰ï¼Œæµ‹è¯•æ—¶å¯ä»¥ä½¿ç”¨æ¨¡æ‹Ÿ)
# --------------------------------------------
GOOGLE_API_KEY=your-test-gemini-key-or-leave-empty
OPENROUTER_API_KEY=your-test-openrouter-key-or-leave-empty
OPENROUTER_BASE_URL=https://openrouter.ai/api/v1

# é»˜è®¤æ¨¡å‹é…ç½®
DEFAULT_GEMINI_MODEL=gemini-1.5-flash
DEFAULT_OPENROUTER_MODEL=openai/gpt-3.5-turbo

# AI æœåŠ¡é…ç½®
AI_REQUEST_TIMEOUT=30
MAX_TOKENS=2048
TEMPERATURE=0.7

# è·¨ç‰ˆæœ¬è®¤è¯é…ç½® (æµ‹è¯•ç¯å¢ƒ)
# --------------------------------------------
TEXTLINGO1_API_URL=http://localhost:5001

# Google OAuth é…ç½® (æµ‹è¯•ç¯å¢ƒå¯é€‰)
# --------------------------------------------
GOOGLE_OAUTH_CLIENT_ID=your-test-google-client-id.apps.googleusercontent.com
GOOGLE_OAUTH_CLIENT_SECRET=your-test-google-client-secret

# ç«™ç‚¹URLé…ç½®
# --------------------------------------------
SITE_URL=http://localhost:3001

# æµ‹è¯•ç¯å¢ƒç‰¹æ®Šé…ç½®
# ============================================

# æ•°æ®åº“è¿æ¥æ± é…ç½® (æµ‹è¯•ç¯å¢ƒå¯ä»¥æ›´å°)
DB_POOL_SIZE=5
DB_MAX_OVERFLOW=10

# æ—¥å¿—çº§åˆ« (æµ‹è¯•ç¯å¢ƒç”¨ DEBUG)
LOG_LEVEL=DEBUG

# ç¦ç”¨æŸäº›ç”Ÿäº§åŠŸèƒ½ (æµ‹è¯•ç¯å¢ƒ)
ENABLE_RATE_LIMITING=false
ENABLE_EMAIL_NOTIFICATIONS=false
ENABLE_ANALYTICS=false

# æµ‹è¯•æ•°æ®é…ç½®
SEED_TEST_DATA=true
AUTO_CREATE_TEST_USERS=true

# ==========================================
# ä½¿ç”¨è¯´æ˜
# ==========================================

# ğŸš€ å¿«é€Ÿå¯åŠ¨æµ‹è¯•ç¯å¢ƒ:
# 1. åˆ›å»º Supabase æµ‹è¯•é¡¹ç›®æˆ–å¯åŠ¨æœ¬åœ° Supabase:
#    supabase start
#
# 2. å¤åˆ¶æ­¤æ–‡ä»¶ä¸º .env.test:
#    cp .env.test.example .env.test
#
# 3. å¡«å…¥çœŸå®çš„æµ‹è¯•ç¯å¢ƒé…ç½®
#
# 4. å¯åŠ¨æµ‹è¯• API:
#    uvicorn app.main:app --reload --port 8001 --env-file .env.test
#
# 5. å¯åŠ¨å‰ç«¯æµ‹è¯•ç¯å¢ƒ:
#    cd web && npm run dev -- --port 3001

# ğŸ§ª è¿è¡Œ RLS ç­–ç•¥æµ‹è¯•:
# psql "YOUR_TEST_DATABASE_URL" < doc/material_segments_rls_cleanup.sql

# ğŸ“ æµ‹è¯•æ•°æ®åº“è¿æ¥å­—ç¬¦ä¸²ç¤ºä¾‹:
# 
# Supabase æµ‹è¯•é¡¹ç›®:
# postgresql://postgres:[password]@db.[test-project-id].supabase.co:5432/postgres
#
# æœ¬åœ° Supabase:
# postgresql://postgres:postgres@localhost:54322/postgres
#
# Docker PostgreSQL:
# postgresql://postgres:postgres@localhost:5433/textlingo2_test