# ==========================================
# TextLingo2 后端 API 环境变量配置示例
# ==========================================
# 使用方法：复制此文件为 .env 并填入真实配置

# 应用基础配置
# --------------------------------------------
APP_NAME=TextLingo2 API
APP_VERSION=1.0.0
DEBUG=true

# Supabase 配置
# --------------------------------------------
# 从 Supabase Dashboard > Project Settings > API 获取
SUPABASE_URL=https://your-project-id.supabase.co
SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.your-anon-key
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.your-service-role-key

# JWT 配置
# --------------------------------------------
# 生成强密钥: openssl rand -hex 32
JWT_SECRET_KEY=your-super-secret-jwt-key-32-characters-long
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30

# 应用安全配置
# --------------------------------------------
# 生成强密钥: openssl rand -hex 32
SECRET_KEY=your-super-secret-app-key-32-characters-long

# Redis 配置 (用于 Celery 任务队列)
# --------------------------------------------
REDIS_URL=redis://localhost:6379/0

# Celery 异步任务配置
# --------------------------------------------
CELERY_BROKER_URL=redis://localhost:6379/0
CELERY_RESULT_BACKEND=redis://localhost:6379/0

# API 配置
# --------------------------------------------
API_V1_PREFIX=/api/v1

# CORS 跨域配置 (允许的前端域名)
# --------------------------------------------
# 本地开发环境
CORS_ORIGINS=["http://localhost:3000", "http://127.0.0.1:3000"]

# 生产环境示例 (请根据实际情况修改)
# CORS_ORIGINS=["https://yourdomain.com", "https://www.yourdomain.com"]

# ==========================================
# 配置说明
# ==========================================

# 1. Supabase 配置获取方法:
#    - 登录 https://supabase.com/dashboard
#    - 选择您的项目
#    - 进入 Settings > API
#    - 复制 Project URL 到 SUPABASE_URL
#    - 复制 anon public 密钥到 SUPABASE_ANON_KEY  
#    - 复制 service_role secret 密钥到 SUPABASE_SERVICE_ROLE_KEY

# 2. 生成安全密钥:
#    在终端运行: openssl rand -hex 32
#    将生成的 64 字符密钥用于 JWT_SECRET_KEY 和 SECRET_KEY

# 3. Redis 配置:
#    - 本地开发: redis://localhost:6379/0
#    - Docker: redis://redis:6379/0  
#    - 云服务: redis://username:password@host:port/db

# 4. CORS 配置:
#    添加您的前端应用域名，开发环境通常是 localhost:3000

# ==========================================
# Docker 环境变量 (docker-compose.yml 中使用)
# ==========================================

# 如果使用 Docker Compose，以下变量会被自动设置:
# REDIS_URL=redis://redis:6379/0
# CELERY_BROKER_URL=redis://redis:6379/0  
# CELERY_RESULT_BACKEND=redis://redis:6379/0 